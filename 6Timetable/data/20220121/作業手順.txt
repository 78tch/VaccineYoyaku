

●手順

１．「会場」「稼働日」をインポートし、「予約枠」を作成することで、予約受付ができる。
２．まず元になるExcelで「会場」と「稼働日」を書き出し、CSVファイルで保存。
３．「会場」をインポート
　取引先責任者の一致条件：「名前」
　取引先の一致条件：「名前と場所」
４．「会場ワクチン設定」をする
　※！！これを忘れると、予定枠がちゃんと作られない。！！
５．「稼働日」をインポート
　一致条件：「外部ID（外部ID）」
　病院ID参照項目を設定するためにファイルのどの会場項目を照合しますか?：「会場　名前」
６．「稼働日」で「予約枠未作成リスト」で「時間枠作成」を実施
　初期は５０件しか表示されていないので、スクロールして全件表示してから選択しないと、作業漏れになる。
７．「会場」デフォルトの時間帯全部に枠が作られ、稼働日の時間帯の枠にだけ「有効」がチェックされる。
　「有効」チェックなしの予約枠は邪魔なので削除する。
「有効がオフ」を削除
Boolean active = false;
delete [ SELECT Id FROM pa_cv19_reserv__Time_Slot__c WHERE pa_cv19_reserv__Active__c=:active LIMIT 1000];

８．人数がイレギュラーな枠の人数修正をする（増やすは可、減らすは不可。）
　５月第１周の、水木の第１・２枠について、４人→５人に直す。など。
９．医療従事者の先約を入れる
　５月１２日の西南学センのラスト２枠を無効にする。
　→元データを「終了時刻14:10」としたほうが確実。など。
１０．「ダミー稼働日」を作って、Web版のカレンダーで今週を表示した際に「予約枠がないので時刻表が折りたたまれる」問題を回避する。
　一致条件：「外部ID（外部ID）」
　病院ID参照項目を設定するためにファイルのどの会場項目を照合しますか?：「会場　名前」
なお、「ダミー稼働日」は、「予約枠未作成リスト」で「時間枠作成」を実施する必要はない。
（無効な枠しか作成されない設定にしてあるため。）


●インポート時の注意
・会場：
　取引先責任者の一致条件：「名前」
　取引先の一致条件：「名前と場所」

・接種者：
　一致条件：「接種券番号（外部ID）」

・稼働日：
　一致条件：「外部ID（外部ID）」
　病院ID参照項目を設定するためにファイルのどの会場項目を照合しますか?：「会場　名前」
